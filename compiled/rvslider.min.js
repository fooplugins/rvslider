(function(e,t){e.fn.rvslider=function(i){return this.each(function(){var s=e(this).data("__RVSlider__");s instanceof t.RVSlider&&s.destroy(),t.RVSlider(this,i)})};var i={selected:0,swipe:{deadzone:10,items:.05,nav:.1,touches:1},breakpoints:null,mejs:{enabled:!0,youtube:!1,vimeo:!1}};t.RVSlider=function(s,o){if(!(this instanceof t.RVSlider))return new t.RVSlider(s,o);var r=e(s);this.$={el:r,empty:r.find(".rvs-empty")},this.o=e.extend(!0,{},i,o),this.index=this.o.selected,this.items=new t.RVSliderItems(this),this.nav=new t.RVSliderNav(this),this.player=new t.RVSliderPlayer(this),this.resize(),this.setActive(this.index),this.$.el.addClass("rvs-animate").data("__RVSlider__",this),jQuery(window).on("resize.rvs",{self:this},this.onWindowResize)},t.RVSlider.prototype.destroy=function(){e(window).off("resize.rvs",this.onWindowResize),this.$.el.removeClass("rvs-animate").removeData("__RVSlider__"),this.player.destroy(),this.nav.destroy(),this.items.destroy()},t.RVSlider.prototype.preresize=function(){this.$.el.removeClass("rvs-animate")},t.RVSlider.prototype.resize=function(){this.items.resize(),this.nav.resize(),this.$.el.addClass("rvs-animate")},t.RVSlider.prototype.setActive=function(e){0==this.items.count?this.$.empty.show():(this.$.empty.hide(),this.items.setActive(e),this.nav.setActive(e),this.player.setActive(e),this.index=e)},t.RVSlider.prototype.onWindowResize=function(e){var t=e.data.self;t.__resize__&&clearTimeout(t.__resize__),t.preresize(),t.__resize__=setTimeout(function(){t.__resize__=!1,t.resize()},50)}})(jQuery,window.FooPlugins=window.FooPlugins||{}),function(e,t){t.RVSliderItems=function(e){if(!(this instanceof t.RVSliderItems))return new t.RVSliderItems(e);this.rvs=e;var i=this;this.$={container:i.rvs.$.el.find(".rvs-item-container"),stage:i.rvs.$.el.find(".rvs-item-stage").on("touchstart.rvs",{self:i},i.onTouchStart),items:i.rvs.$.el.find(".rvs-item")},this.count=i.$.items.length,this.touched=!1,this.start=[0,0],this.diff=[0,0],this.width=0,this.height=0},t.RVSliderItems.prototype.destroy=function(){this.$.stage.off("touchstart.rvs",self.onTouchStart).off("touchmove.rvs",self.onTouchMove).off("touchend.rvs",self.onTouchEnd),this.$.stage.css({width:"",transform:""}),this.$.items.css({width:"",left:""}).removeClass("rvs-active")},t.RVSliderItems.prototype.resize=function(){var t=this;t.width=t.$.container.width(),t.height=t.$.container.height(),t.$.items.each(function(i){e(this).css({width:t.width,left:i*t.width})}),t.$.stage.css({width:t.width*t.count,transform:"translateX(-"+t.rvs.index*t.width+"px)"})},t.RVSliderItems.prototype.setActive=function(e){e>=0&&this.count>e?(this.$.stage.css("transform","translateX(-"+e*this.width+"px)"),this.$.items.removeClass("rvs-active").eq(e).addClass("rvs-active")):this.$.stage.css("transform","translateX(-"+this.rvs.index*this.width+"px)")},t.RVSliderItems.prototype.onTouchStart=function(e){var t=e.data.self,i=e.originalEvent.touches||e.touches;i.length==t.rvs.o.swipe.touches&&(t.touched=!0,t.start=[i[0].pageX,i[0].pageY],t.$.stage.on("touchmove.rvs",{self:t},t.onTouchMove).on("touchend.rvs",{self:t},t.onTouchEnd))},t.RVSliderItems.prototype.onTouchMove=function(e){var t=e.data.self,i=e.originalEvent.touches||e.touches;t.touched&&i.length==t.rvs.o.swipe.touches&&(t.diff=[t.start[0]-i[0].pageX,t.start[1]-i[0].pageY],Math.abs(t.diff[0])>t.rvs.o.swipe.deadzone&&e.preventDefault())},t.RVSliderItems.prototype.onTouchEnd=function(e){var t=e.data.self;t.$.stage.off("touchmove.rvs touchend.rvs"),Math.abs(t.diff[0])>t.width*t.rvs.o.swipe.items&&(t.diff[0]>0?t.rvs.setActive(t.rvs.index+1):0>t.diff[0]&&t.rvs.setActive(t.rvs.index-1)),t.diff=[0,0],t.start=[0,0],t.touched=!1}}(jQuery,window.FooPlugins=window.FooPlugins||{}),function(e,t){t.RVSliderNav=function(e){if(!(this instanceof t.RVSliderNav))return new t.RVSliderNav(e);this.rvs=e;var i=this;this.$={container:i.rvs.$.el.find(".rvs-nav-container"),stage:i.rvs.$.el.find(".rvs-nav-stage").on("touchstart.rvs",{self:i},i.onTouchStart).on("DOMMouseScroll.rvs mousewheel.rvs",{self:i},i.onMouseWheel),items:i.rvs.$.el.find(".rvs-nav-item").on("click.rvs",{self:i},i.onItemClick),prev:i.rvs.$.el.find(".rvs-nav-prev").on("click.rvs",{self:i},i.onPrevClick),next:i.rvs.$.el.find(".rvs-nav-next").on("click.rvs",{self:i},i.onNextClick)},this.horizontal=i.rvs.$.el.hasClass("rvs-horizontal"),this.thumbPlay=i.rvs.$.el.hasClass("rvs-thumb-play"),this.touchable="ontouchstart"in document.documentElement,this.count=i.$.items.length,this.touched=!1,this.start=[0,0],this.diff=[0,0],this.height=0,this.width=0,this.visible={max:0,first:0,last:0},this.breakpoints="[object Array]"===Object.prototype.toString.call(i.rvs.o.breakpoints)?i.rvs.o.breakpoints:[[320,2],[480,3],[768,4],[992,4],[1200,5]]},t.RVSliderNav.prototype.destroy=function(){this.$.stage.off("touchstart.rvs",self.onTouchStart).off("touchmove.rvs",self.onTouchMove).off("touchend.rvs",self.onTouchEnd).off("DOMMouseScroll.rvs mousewheel.rvs",self.onMouseWheel),this.$.items.off("click.rvs",self.onItemClick),this.$.prev.off("click.rvs",self.onPrevClick),this.$.next.off("click.rvs",self.onNextClick),this.$.stage.css({width:"",transform:""}),this.$.items.css({width:"",left:""}).removeClass("rvs-active")},t.RVSliderNav.prototype._maximum=function(){var e,t="devicePixelRatio"in window&&"number"==typeof window.devicePixelRatio?window.devicePixelRatio:1,i=(window.innerWidth||document.documentElement.clientWidth||(document.body?document.body.offsetWidth:0))/t,s=0,o=this.breakpoints.length;for(this.breakpoints.sort(function(e,t){return e[0]-t[0]});o>s;s++)if(this.breakpoints[s][0]>i){e=this.breakpoints[s][1];break}return e||(e=this.breakpoints[o-1][1]),e},t.RVSliderNav.prototype.resize=function(){var t=this;t.horizontal?(t.visible.max=t._maximum(),t.width=Math.floor(t.rvs.items.width/t.visible.max)+1,t.$.stage.css("width",t.width*t.count),t.$.items.each(function(i){e(this).css({width:t.width,left:i*t.width})})):(t.height=t.$.items.first().outerHeight(),t.visible.max=Math.ceil(t.rvs.items.height/t.height)),t.setVisible(t.visible.first)},t.RVSliderNav.prototype.setVisible=function(e,t){if(e=0>e?0:e>=this.count?this.count-1:e,t&&(e-=this.visible.max-1),e>=0&&e+(this.visible.max-1)<this.count){var i=this.horizontal?"translateX(-"+(e*this.width+1)+"px) translateY(-1px)":"translateX(0px) translateY(-"+(e*this.height+1)+"px)";this.$.stage.css("transform",i),this.visible.first=e,this.visible.last=e+(this.visible.max-1)}this.touchable||0==this.visible.first?this.$.prev.detach():0==this.$.prev.parent().length&&this.$.container.prepend(this.$.prev),this.touchable||this.visible.last==this.count-1||this.visible.max>this.count-1?this.$.next.detach():0==this.$.next.parent().length&&this.$.container.append(this.$.next)},t.RVSliderNav.prototype.setActive=function(e){e>=0&&this.count>e&&(this.$.items.removeClass("rvs-active").eq(e).addClass("rvs-active"),this.visible.first>=e?this.setVisible(e-1):e>=this.visible.last&&this.setVisible(e+1,!0))},t.RVSliderNav.prototype.onItemClick=function(t){t.preventDefault();var i=t.data.self,s=e(this),o=s.find(".rvs-nav-item-thumb");i.rvs.setActive(s.index()),i.thumbPlay&&o.length&&(o.is(t.target)||e.contains(o[0],t.target))&&i.rvs.player.toggle()},t.RVSliderNav.prototype.onPrevClick=function(e){e.preventDefault(),e.data.self.setVisible(e.data.self.visible.first-Math.floor(e.data.self.visible.max/2))},t.RVSliderNav.prototype.onNextClick=function(e){e.preventDefault(),e.data.self.setVisible(e.data.self.visible.last+Math.floor(e.data.self.visible.max/2),!0)},t.RVSliderNav.prototype.onMouseWheel=function(e){e.preventDefault(),e.originalEvent.wheelDelta>0||0>e.originalEvent.detail?e.data.self.setVisible(e.data.self.visible.first-1):e.data.self.setVisible(e.data.self.visible.first+1)},t.RVSliderNav.prototype.onTouchStart=function(e){var t=e.data.self,i=e.originalEvent.touches||e.touches;i.length==t.rvs.o.swipe.touches&&(t.touched=!0,t.start=[i[0].pageX,i[0].pageY],t.$.stage.on("touchmove.rvs",{self:t},t.onTouchMove).on("touchend.rvs",{self:t},t.onTouchEnd))},t.RVSliderNav.prototype.onTouchMove=function(e){var t=e.data.self,i=e.originalEvent.touches||e.touches;t.touched&&i.length==t.rvs.o.swipe.touches&&(t.diff=[t.start[0]-i[0].pageX,t.start[1]-i[0].pageY],this.horizontal||e.preventDefault())},t.RVSliderNav.prototype.onTouchEnd=function(e){var t=e.data.self,i=Math.abs(t.diff[0]),s=Math.abs(t.diff[1]);t.$.stage.off("touchmove.rvs touchend.rvs"),t.horizontal?i>t.width*t.rvs.o.swipe.nav&&(t.diff[0]>0?t.setVisible(t.visible.last+Math.ceil(i/t.width),!0):0>t.diff[0]&&t.setVisible(t.visible.first-Math.ceil(i/t.width))):s>=t.height*t.rvs.o.swipe.nav&&(t.diff[1]>0?t.setVisible(t.visible.last+Math.ceil(s/t.width),!0):0>t.diff[1]&&t.setVisible(t.visible.first-Math.ceil(s/t.width))),t.diff=[0,0],t.start=[0,0],t.touched=!1}}(jQuery,window.FooPlugins=window.FooPlugins||{}),function(e,t){t.RVSliderVideoUrl=function(e){if(!(this instanceof t.RVSliderVideoUrl))return new t.RVSliderVideoUrl(e);var i=e.split("#");this.hash=2==i.length?"#"+i[1]:"",i=i[0].split("?"),this.url=i[0],this.protocol="https"==e.substring(0,5)?"https:":"http:",this.params=[];for(var s,o=(2==i.length?i[1]:"").split(/[&;]/g),r=0,a=o.length;a>r;r++)s=o[r].split("="),2==s.length&&this.params.push({key:decodeURIComponent(s[0]),value:decodeURIComponent(s[1])});this.mimeTypes={"video/youtube":/(www.)?youtube|youtu\.be/i,"video/vimeo":/(player.)?vimeo\.com/i,"video/wistia":/(.+)?(wistia\.(com|net)|wi\.st)\/.*/i,"video/mp4":/\.mp4/i,"video/webm":/\.webm/i,"video/wmv":/\.wmv/i,"video/ogg":/\.ogv/i,"video/flv":/\.flv/i},this.mimeType=null;for(var n in this.mimeTypes)this.mimeTypes.hasOwnProperty(n)&&this.mimeTypes[n].test(e)&&(this.mimeType=n);var l;if(("video/youtube"==this.mimeType||"video/vimeo"==this.mimeType)&&(this.param("autoplay","1"),"video/youtube"==this.mimeType&&(l=/embed\//i.test(this.url)?this.url.split(/embed\//i)[1].split(/[?&]/)[0]:e.split(/v\/|v=|youtu\.be\//i)[1].split(/[?&]/)[0],this.url=this.protocol+"//www.youtube.com/embed/"+l,this.param("modestbranding","1"),this.param("rel","0"),this.param("wmode","transparent"),this.param("showinfo","0")),"video/vimeo"==this.mimeType&&(l=this.url.substr(this.url.lastIndexOf("/")+1),this.url=this.protocol+"//player.vimeo.com/video/"+l,this.param("badge","0"),this.param("portrait","0"))),"video/wistia"==this.mimeType){l=/embed\//i.test(this.url)?this.url.split(/embed\/.*?\//i)[1].split(/[?&]/)[0]:this.url.split(/medias\//)[1].split(/[?&]/)[0];var h=/playlists\//i.test(this.url);this.url=this.protocol+"//fast.wistia.net/embed/"+(h?"playlists":"iframe")+"/"+l,h?this.param("media_0_0[autoPlay]","1"):this.param("autoPlay","1"),this.param("theme","")}},t.RVSliderVideoUrl.prototype.param=function(e,t){for(var i=t===void 0,s="string"==typeof t&&""===t,o=this.params.length;o-->0;)if(this.params[o].key==e)return i?this.params[o].value:(s?this.params.splice(o,1):this.params[o].value=t,void 0);i||s||this.params.push({key:e,value:t})},t.RVSliderVideoUrl.prototype.toString=function(){for(var e=this.params.length>0?"?":"",t=0,i=this.params.length;i>t;t++)0!=t&&(e+="&"),e+=encodeURIComponent(this.params[t].key)+"="+encodeURIComponent(this.params[t].value);return this.url+e+this.hash}}(jQuery,window.FooPlugins=window.FooPlugins||{}),function(e,t){t.RVSliderPlayer=function(i){if(!(this instanceof t.RVSliderPlayer))return new t.RVSliderPlayer(i);var s=this;this.rvs=i,this.rvs.items.$.stage.on("click.rvs",".rvs-play-video",{self:s},s.onPlayClick),this.$={container:e("<div/>",{"class":"rvs-player"}),close:e("<a/>",{"class":"rvs-close"}).on("click.rvs",{self:s},s.onCloseClick),iframe:null},this.$.close.appendTo(s.$.container),this.continuousPlay=s.rvs.$.el.hasClass("rvs-continuous-play"),this.attached=!1,this.mejs=new t.RVSliderMediaElement(i,this)},t.RVSliderPlayer.prototype.destroy=function(){this.rvs.items.$.stage.off("click.rvs",".rvs-play-video",self.onPlayClick),this.rvs.items.$.items.add(this.rvs.nav.$.items).removeClass("rvs-video-active"),this.$.close.off("click.rvs",self.onCloseClick),this.$.container.remove()},t.RVSliderPlayer.prototype._parse=function(i){if("string"==typeof i){i=i.split(",");for(var s=0,o=i.length;o>s;s++)i[s]=new t.RVSliderVideoUrl(e.trim(i[s]));return i}return[]},t.RVSliderPlayer.prototype._play=function(t){this.$.player=e("<iframe/>",{src:t,frameborder:"no",width:this.rvs.items.width,height:this.rvs.items.height,webkitallowfullscreen:!0,mozallowfullscreen:!0,allowfullscreen:!0}).css({width:"100%",height:"100%"}),this.$.container.append(this.$.player).appendTo(this.rvs.items.$.items.filter(".rvs-active"))},t.RVSliderPlayer.prototype.setActive=function(e){!this.continuousPlay&&this.rvs.index!=e&&this.attached&&this.close()},t.RVSliderPlayer.prototype.play=function(e,t){e.length&&(this.attached&&this.close(),this.mejs.handles(e)?this.mejs.play(e,t):this._play(e[0]),this.rvs.items.$.items.add(this.rvs.nav.$.items).filter(".rvs-active").addClass("rvs-video-active"),this.attached=!0)},t.RVSliderPlayer.prototype.close=function(){this.attached&&(this.$.close.detach(),this.$.container.empty().detach(),this.$.close.appendTo(this.$.container),this.rvs.items.$.items.add(this.rvs.nav.$.items).removeClass("rvs-video-active"),this.attached=!1)},t.RVSliderPlayer.prototype.toggle=function(){var e=this.rvs.items.$.items.filter(".rvs-active"),t=e.find(".rvs-play-video");e.length&&!e.hasClass("rvs-video-active")?this.play(this._parse(t.attr("href")),t.data("options")||{}):this.close()},t.RVSliderPlayer.prototype.onPlayClick=function(t){t.preventDefault();var i=e(this),s=t.data.self;s.play(s._parse(i.attr("href")),i.data("options")||{})},t.RVSliderPlayer.prototype.onCloseClick=function(e){e.preventDefault(),e.data.self.close()}}(jQuery,window.FooPlugins=window.FooPlugins||{}),function(e,t){t.RVSliderMediaElement=function(e,i){return this instanceof t.RVSliderMediaElement?(this.rvs=e,this.player=i,this.enabled="MediaElementPlayer"in window&&this.rvs.o.mejs.enabled,void 0):new t.RVSliderMediaElement(e,i)},t.RVSliderMediaElement.prototype.handles=function(e){for(var t=0,i=e.length;i>t;t++)if(this.enabled&&(this.rvs.o.mejs.youtube||"video/youtube"!==e[t].mimeType)&&(this.rvs.o.mejs.vimeo||"video/vimeo"!==e[t].mimeType)&&"video/wistia"!==e[t].mimeType)return!0;return!1},t.RVSliderMediaElement.prototype.play=function(t,i){this.player.$.player=e("<video/>",{width:this.rvs.items.width,height:this.rvs.items.height,controls:!0,preload:"none"}).css({width:"100%",height:"100%"});for(var s=0,o=t.length;o>s;s++)!this.enabled||!this.rvs.o.mejs.youtube&&"video/youtube"===t[s].mimeType||!this.rvs.o.mejs.vimeo&&"video/vimeo"===t[s].mimeType||"video/wistia"===t[s].mimeType||this.player.$.player.append(e("<source/>",{type:t[s].mimeType,src:t[s]}));if(this.player.$.player.find("source").length>0){this.player.$.container.append(this.player.$.player).appendTo(this.rvs.items.$.items.filter(".rvs-active").addClass("rvs-video-active"));var r=this;this.player.$.player.mediaelementplayer(e.extend(!0,{},this.o,i,{videoWidth:this.rvs.items.width,videoHeight:this.rvs.items.height,success:function(t,s){function o(){t.play(),t.removeEventListener("canplay",o,!1)}function r(){t.removeEventListener("canplay",o,!1),t.removeEventListener("playing",r,!1)}t.addEventListener("canplay",o,!1),t.addEventListener("playing",r,!1),t.load(),t.play(),e.isFunction(i.success)&&i.success(t,s)},error:function(s,o,a,n,l){console.log("The video "+t+" is not supported.",s,o,a,n,l),r.player.close(),e.isFunction(i.error)&&i.error(s)}}))}}}(jQuery,window.FooPlugins=window.FooPlugins||{});